function googleMapPicker(o){return{value:o.value,zoom:o.zoom,init:function(){var t={lat:this.value.lat||0,lng:this.value.lng||0},e=new google.maps.Map(this.$refs.map,{center:t,zoom:o.options.zoom,mapTypeId:o.options.mapTypeId,...o.controls}),n=new google.maps.Marker({position:t,map:e});if(e.addListener("click",(o=>{this.value=o.latLng.toJSON()})),o.options.fixMarkerOnCenter&&(e.addListener("drag",(o=>{n.setPosition(e.getCenter())})),e.addListener("dragend",(o=>{n.setPosition(e.getCenter()),this.value=e.getCenter().toJSON()}))),o.controls.geolocationControl){const o=this.$refs.locationButton;e.controls[google.maps.ControlPosition.BOTTOM_CENTER].push(o),o.addEventListener("click",(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((o=>{const t={lat:o.coords.latitude,lng:o.coords.longitude};this.value=t}),(()=>{console.log("Browser supports Geolocation but got error. Probably no permission granted.")})):console.log("Browser doesn't support Geolocation")}))}if(console.log(o.options),console.log(t),o.options.defaultToMyLocation&&0===t.lat&&0===t.lng&&(navigator.geolocation?navigator.geolocation.getCurrentPosition((o=>{const t={lat:o.coords.latitude,lng:o.coords.longitude};this.value=t}),(()=>{console.log("Browser supports Geolocation but got error. Probably no permission granted.")})):console.log("Browser doesn't support Geolocation")),o.controls.searchBoxControl){const o=this.$refs.searchBox,t=new google.maps.places.SearchBox(o);e.controls[google.maps.ControlPosition.TOP_CENTER].push(o),t.addListener("places_changed",(()=>{o.value="",this.value=t.getPlaces()[0].geometry.location}))}o.controls.coordsBoxControl&&(coordsBoxControl=this.$refs.coordsBox,e.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(coordsBoxControl)),this.$watch("value",(()=>{let t=this.value;n.setPosition(t),e.panTo(t),o.controls.coordsBoxControl&&(coordsBoxControl.value=t.lat+","+t.lng)}))}}}
